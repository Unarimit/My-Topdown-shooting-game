
-- try add event level
-- 1 define level
local level = CS.Assets.Scripts.Entities.Level.EventLevelRule()
level.LevelName = '今天是个好天气'
level.LevelId = 'test_level2'
level.Description = 'lua添加的测试Level, 开启条件是时间%2==0'


level.EnableFunc = function (database)
    return database.Inventory:get_Item('GTime') % 2 == 0
end

level.DelayDay = 1
level.MessageAction = function (homeContext)
    homeContext:CreateHomeMessage("今天是个好天气", "获得10个Gacha道具")
    homeContext.HomeVM.ResGacha.Data = homeContext.HomeVM.ResGacha.Data + 10
end


-- 2 add to level list
_database:LuaAddLevelRule(level)